<!-- Main Content --> <main class="flex-grow container mx-auto px-4 py-8"> <!-- Login Section --> <section id="login-section" class="max-w-md mx-auto bg-white rounded-xl shadow-lg overflow-hidden p-8 mb-8 border border-gray-100"> <h2 class="text-2xl font-bold text-gray-800 mb-2">Student Reading Tracker</h2> <p class="text-gray-600 mb-6">Track your reading progress and build your reading streak!</p> <!-- Google Sign-in Button --> <button id="google-login-btn" class="w-full google-btn py-3 px-4 rounded-lg font-medium transition mb-4 shadow-md hover:shadow-lg"> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 48 48"> <path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"/> <path fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"/> <path fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"/> <path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"/> <path fill="none" d="M0 0h48v48H0z"/> </svg> Sign in with Google </button> <p class="text-sm text-gray-500 mt-4">This is a demo application. Sign in with your Google account to track your reading progress.</p> </section> <!-- Reading Tracker Section (Hidden initially) --> <section id="reading-section" class="hidden"> <div class="flex flex-col md:flex-row gap-8"> <!-- Add New Reading --> <div class="w-full md:w-1/3 bg-white rounded-xl shadow-md overflow-hidden p-6"> <h2 class="text-xl font-bold text-gray-800 mb-4">Add New Reading</h2> <form id="reading-form" class="space-y-4"> <div> <label for="book-title" class="block text-sm font-medium text-gray-700 mb-1">Book Title</label> <input type="text" id="book-title" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"> </div> <div> <label for="author" class="block text-sm font-medium text-gray-700 mb-1">Author</label> <input type="text" id="author" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"> </div> <div> <label for="pages-read" class="block text-sm font-medium text-gray-700 mb-1">Pages Read</label> <input type="number" id="pages-read" required min="1" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"> </div> <div> <label for="summary" class="block text-sm font-medium text-gray-700 mb-1">Reading Summary</label> <textarea id="summary" rows="4" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"></textarea> </div> <button type="submit" class="w-full bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700 transition font-medium">Save Reading</button> </form> </div> <!-- Reading List --> <div class="w-full md:w-2/3"> <div class="bg-white rounded-xl shadow-md overflow-hidden p-6 mb-6"> <div class="flex justify-between items-center mb-4"> <h2 class="text-xl font-bold text-gray-800">My Reading Journal</h2> <div class="text-sm text-gray-500"> Total Books: <span id="total-books">0</span> </div> </div> <div id="reading-stats" class="grid grid-cols-2 md:grid-cols-3 gap-4 mb-6"> <div class="bg-indigo-50 p-4 rounded-lg"> <p class="text-sm text-indigo-600 font-medium">Total Pages</p> <p id="total-pages" class="text-2xl font-bold text-indigo-800">0</p> </div> <div class="bg-green-50 p-4 rounded-lg"> <p class="text-sm text-green-600 font-medium">This Week</p> <p id="week-pages" class="text-2xl font-bold text-green-800">0</p> </div> <div class="bg-amber-50 p-4 rounded-lg"> <p class="text-sm text-amber-600 font-medium">Streak</p> <p id="streak" class="text-2xl font-bold text-amber-800">0 days</p> </div> </div> </div> <div id="reading-list" class="space-y-4"> <!-- Reading entries will be added here --> <div class="text-center text-gray-500 py-8"> No reading entries yet. Add your first book! </div> </div> </div> </div> </section> </main> <!-- Footer --> <footer class="bg-gray-800 text-white py-6"> <div class="container mx-auto px-4 text-center"> <p>BookTrack - Student Reading Tracker</p> <p class="text-sm text-gray-400 mt-2">Â© 2023 BookTrack. All rights reserved.</p> </div> </footer> </div> <script> // Firebase Configuration const firebaseConfig = { apiKey: "AIzaSyB2kLJ1joSsRVkKmzDxr1yaeKcqcqy05Rc", authDomain: "enilamsksm.firebaseapp.com", projectId: "enilamsksm", storageBucket: "enilamsksm.firebasestorage.app", messagingSenderId: "287533973770", appId: "1:287533973770:web:a3c4beeca46f512d63baf3", measurementId: "G-J312QTBERV" }; // Initialize Firebase firebase.initializeApp(firebaseConfig); const auth = firebase.auth(); const db = firebase.firestore(); const analytics = firebase.analytics ? firebase.analytics() : null; // DOM Elements const loginSection = document.getElementById('login-section'); const readingSection = document.getElementById('reading-section'); const googleLoginBtn = document.getElementById('google-login-btn'); const readingForm = document.getElementById('reading-form'); const userInfo = document.getElementById('user-info'); const userEmail = document.getElementById('user-email'); const logoutBtn = document.getElementById('logout-btn'); const readingList = document.getElementById('reading-list'); const totalBooksElement = document.getElementById('total-books'); const totalPagesElement = document.getElementById('total-pages'); const weekPagesElement = document.getElementById('week-pages'); const streakElement = document.getElementById('streak'); // App State let currentUser = null; let readings = []; // Auth state observer auth.onAuthStateChanged(user => { if (user) { // User is signed in currentUser = user; userEmail.textContent = user.displayName || user.email; loadUserData(); } else { // User is signed out currentUser = null; readings = []; showLoginSection(); } }); // Google Sign-in googleLoginBtn.addEventListener('click', function() { const provider = new firebase.auth.GoogleAuthProvider(); auth.signInWithPopup(provider) .then(() => { // Log sign-in event if (analytics) { analytics.logEvent('login', { method: 'google' }); } }) .catch(error => { console.error("Google sign-in error:", error); alert("Error signing in with Google: " + error.message); }); }); // Logout Button logoutBtn.addEventListener('click', function() { auth.signOut(); }); // Reading Form Submission readingForm.addEventListener('submit', function(e) { e.preventDefault(); const bookTitle = document.getElementById('book-title').value; const author = document.getElementById('author').value; const pagesRead = parseInt(document.getElementById('pages-read').value); const summary = document.getElementById('summary').value; const newReading = { id: Date.now().toString(), date: new Date().toISOString(), bookTitle, author, pagesRead, summary, userId: currentUser.uid }; // Add to Firestore db.collection('readings').doc(newReading.id).set(newReading) .then(() => { readings.unshift(newReading); updateReadingList(); updateStats(); readingForm.reset(); // Log reading added event if (analytics) { analytics.logEvent('reading_added', { book_title: bookTitle, pages_read: pagesRead }); } }) .catch(error => { console.error("Error adding reading:", error); alert("Error saving your reading: " + error.message); }); }); // Load User Data function loadUserData() { // Load readings from Firestore db.collection('readings') .where('userId', '==', currentUser.uid) .orderBy('date', 'desc') .get() .then(snapshot => { readings = snapshot.docs.map(doc => doc.data()); showReadingSection(); updateReadingList(); updateStats(); }) .catch(error => { console.error("Error loading readings:", error); alert("Error loading your readings: " + error.message); }); } // Update Reading List UI function updateReadingList() { if (readings.length === 0) { readingList.innerHTML = ` <div class="text-center text-gray-500 py-8"> No reading entries yet. Add your first book! </div> `; return; } readingList.innerHTML = ''; readings.forEach(reading => { const date = new Date(reading.date).toLocaleDateString(); const readingCard = document.createElement('div'); readingCard.className = 'reading-card bg-white rounded-xl shadow-md overflow-hidden p-6'; readingCard.innerHTML = ` <div class="flex justify-between items-start"> <div> <h3 class="text-lg font-bold text-gray-800">${reading.bookTitle}</h3> <p class="text-sm text-gray-600">by ${reading.author}</p> </div> <div class="bg-indigo-100 text-indigo-800 px-3 py-1 rounded-full text-sm font-medium"> ${reading.pagesRead} pages </div> </div> <p class="mt-3 text-gray-700">${reading.summary}</p> <div class="mt-4 flex justify-between items-center"> <span class="text-xs text-gray-500">${date}</span> <button class="delete-btn text-red-600 text-sm hover:text-red-800" data-id="${reading.id}"> Delete </button> </div> `; readingList.appendChild(readingCard); // Add delete functionality const deleteBtn = readingCard.querySelector('.delete-btn'); deleteBtn.addEventListener('click', function() { const id = this.getAttribute('data-id'); deleteReading(id); }); }); } // Delete Reading Entry function deleteReading(id) { db.collection('readings').doc(id).delete() .then(() => { readings = readings.filter(reading => reading.id !== id); updateReadingList(); updateStats(); }) .catch(error => { console.error("Error deleting reading:", error); alert("Error deleting your reading: " + error.message); }); } // Update Statistics function updateStats() { // Total books totalBooksElement.textContent = readings.length; // Total pages const totalPages = readings.reduce((sum, reading) => sum + reading.pagesRead, 0); totalPagesElement.textContent = totalPages; // Pages read this week const oneWeekAgo = new Date(); oneWeekAgo.setDate(oneWeekAgo.getDate() - 7); const pagesThisWeek = readings .filter(reading => new Date(reading.date) >= oneWeekAgo) .reduce((sum, reading) => sum + reading.pagesRead, 0); weekPagesElement.textContent = pagesThisWeek; // Calculate streak (simplified version) const streak = Math.min(readings.length, 7); streakElement.textContent = `${streak} day${streak !== 1 ? 's' : ''}`; } // Show Login Section function showLoginSection() { loginSection.classList.remove('hidden'); readingSection.classList.add('hidden'); userInfo.classList.add('hidden'); } // Show Reading Section function showReadingSection() { loginSection.classList.add('hidden'); readingSection.classList.remove('hidden'); userInfo.classList.remove('hidden'); } </script>